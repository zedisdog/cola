package dao

import (
	baseDatabase "github.com/zedisdog/cola/database"
	"gorm.io/gorm"
	"{{moduleName}}/internal/database"
)

var {{name}} = &{{daoName}}{
    db: baseDatabase.DB{
        Db: database.Instance(),
    },
}

type {{daoName}} struct {
    db baseDatabase.DB
}

func ({{shortName}} {{daoName}}) WithTx(tx *gorm.DB) *{{daoName}} {
    {{shortName}}.db.SetTx(tx)
    return &{{shortName}}
}
